<%# views/user-profile.ejs (Final Version with Date Picker) %>

<%# === –•–µ–ª–ø–µ—Ä—ã –∏ —Ñ—É–Ω–∫—Ü–∏–∏ === %>
<% 
  const escapeHtml = (str) => {
    if (str === undefined || str === null) return '';
    return String(str)
      .replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;')
      .replace(/"/g, '&quot;').replace(/'/g, '&#039;');
  };

  const formatDate = (s) => {
    if (!s) return '‚Äî';
    try {
      const d = new Date(s);
      if (isNaN(d.getTime())) return '‚Äî';
      return d.toLocaleString('ru-RU', {
        year: 'numeric', month: '2-digit', day: '2-digit',
        hour: '2-digit', minute: '2-digit'
      });
    } catch {
      return '‚Äî';
    }
  };
  
  // –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (–∑–∞—â–∏—Ç–∞ –æ—Ç undefined)
  const u = typeof userProfile !== 'undefined' ? userProfile : {};
  const safeName = escapeHtml(u.first_name);
  const safeUsername = escapeHtml(u.username);
  const displayName = safeName || safeUsername || `ID: ${u.id || '???'}`;
  
  // –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ queryParams –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
  const qParams = typeof queryParams !== 'undefined' ? queryParams : {};
%>

<%- contentFor('styles') %>
<style>
  .dl-horizontal dt {
    text-align: left;
    white-space: normal;
    font-weight: 600;
    color: #555;
  }
  .action-buttons form {
    display: inline-block;
  }
  .table-responsive {
    max-height: 500px;
    overflow-y: auto;
  }
</style>

<%- contentFor('body') %>

<% if (u.id) { %>

<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
  <div class="d-flex align-items-center gap-3">
    <div class="user-avatar bg-light text-secondary d-flex align-items-center justify-content-center rounded-circle border" style="width: 50px; height: 50px; font-size: 1.5rem; font-weight: bold;">
      <%= displayName.charAt(0).toUpperCase() %>
    </div>
    <h1 class="h2 mb-0"><%- displayName %></h1>
  </div>
  <div class="btn-toolbar mb-2 mb-md-0">
    <a href="/users" class="btn btn-sm btn-outline-secondary">
      <i class="bi bi-arrow-left me-1"></i> –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É
    </a>
  </div>
</div>

<%# –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –∫—ç—à–∞ %>
<% if (qParams.fixedCount) { %>
  <div class="alert alert-success alert-dismissible fade show" role="alert">
    <i class="bi bi-magic me-2"></i>
    <strong>–£—Å–ø–µ—à–Ω–æ!</strong> –°–±—Ä–æ—à–µ–Ω –∫—ç—à –¥–ª—è <b><%= qParams.fixedCount %></b> —Ç—Ä–µ–∫–æ–≤ (–¥–æ <%= qParams.fixedDate %>).
    <br><small>–¢–µ–ø–µ—Ä—å –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º —Å–∫–∞—á–∏–≤–∞–Ω–∏–∏ –Ω–∞–∑–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –±—É–¥—É—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏.</small>
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>
<% } %>

<div class="row g-4">
  <%# === –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ === %>
  <div class="col-lg-5">
    
    <%# –ö–∞—Ä—Ç–æ—á–∫–∞ –ò–Ω—Ñ–æ %>
    <div class="card shadow-sm mb-4">
      <div class="card-header fw-semibold bg-light"><i class="bi bi-person-lines-fill me-2"></i>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ</div>
      <div class="card-body">
        <dl class="row mb-0 dl-horizontal">
          <dt class="col-sm-5">ID</dt><dd class="col-sm-7"><%= u.id %></dd>
          <dt class="col-sm-5">–ò–º—è</dt><dd class="col-sm-7"><%- safeName || '<em class="text-muted">–ù–µ —É–∫–∞–∑–∞–Ω–æ</em>' %></dd>
          <dt class="col-sm-5">Username</dt><dd class="col-sm-7"><%- safeUsername ? `<a href="https://t.me/${safeUsername}" target="_blank">@${safeUsername}</a>` : '‚Äî' %></dd>
          
          <dt class="col-sm-5">–°—Ç–∞—Ç—É—Å</dt>
          <dd class="col-sm-7">
            <span class="badge <%= u.active ? 'bg-success' : 'bg-danger' %>">
              <%= u.active ? '‚úì –ê–∫—Ç–∏–≤–µ–Ω' : '‚úó –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω' %>
            </span>
          </dd>

          <dt class="col-sm-5">–ò—Å—Ç–æ—á–Ω–∏–∫</dt>
          <dd class="col-sm-7">
            <% if (typeof referrer !== 'undefined' && referrer) { %>
              –ü—Ä–∏–≥–ª–∞—à–µ–Ω: <a href="/user/<%= referrer.id %>"><%- escapeHtml(referrer.first_name || referrer.username) || `ID: ${referrer.id}` %></a>
            <% } else if (u.referral_source) { %>
              <span class="badge bg-secondary"><%= u.referral_source %></span>
            <% } else { %>
              <span class="text-muted">–û—Ä–≥–∞–Ω–∏—á–µ—Å–∫–∏–π</span>
            <% } %>
          </dd>
          
          <dt class="col-sm-5">–¢–∞—Ä–∏—Ñ</dt>
          <dd class="col-sm-7">
            <% 
              const limit = u.premium_limit || 0;
              let planClass = 'bg-secondary';
              let planName = 'Other';
              if (limit <= 5) { planName = 'Free'; planClass = 'bg-secondary'; }
              else if (limit == 30) { planName = 'Plus'; planClass = 'bg-info text-dark'; }
              else if (limit == 100) { planName = 'Pro'; planClass = 'bg-warning text-dark'; }
              else if (limit >= 10000) { planName = 'Unlim'; planClass = 'bg-primary'; }
            %>
            <span class="badge <%= planClass %>"><%= planName %> (<%= limit %>)</span>
          </dd>
          
          <dt class="col-sm-5">–ü–æ–¥–ø–∏—Å–∫–∞ –¥–æ</dt><dd class="col-sm-7"><%= formatDate(u.premium_until) %></dd>
          <dt class="col-sm-5">–ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</dt><dd class="col-sm-7"><%= formatDate(u.last_active) %></dd>
          <dt class="col-sm-5">–ó–∞–≥—Ä—É–∑–æ–∫ (—Å–µ–≥–æ–¥–Ω—è/–≤—Å–µ–≥–æ)</dt>
          <dd class="col-sm-7">
            <strong><%= u.downloads_today || 0 %></strong> / <%= u.total_downloads || 0 %>
          </dd>
        </dl>
      </div>
    </div>

    <%# –ö–∞—Ä—Ç–æ—á–∫–∞ –°–º–µ–Ω—ã –¢–∞—Ä–∏—Ñ–∞ %>
    <div class="card shadow-sm mb-4">
      <div class="card-header fw-semibold bg-light"><i class="bi bi-gem me-2"></i>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∞—Ä–∏—Ñ–æ–º</div>
      <div class="card-body">
        <form class="row g-2 align-items-center" method="post" action="/set-tariff" onsubmit="return confirm('–ò–∑–º–µ–Ω–∏—Ç—å —Ç–∞—Ä–∏—Ñ –¥–ª—è —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è?');">
          <input type="hidden" name="userId" value="<%= u.id %>">
          
          <div class="col-md-5">
            <label class="form-label small text-muted mb-0">–¢–∞—Ä–∏—Ñ</label>
            <select name="limit" class="form-select form-select-sm" required>
              <option value="5" <%= u.premium_limit <= 5 ? 'selected' : '' %>>Free (5)</option>
              <option value="30" <%= u.premium_limit == 30 ? 'selected' : '' %>>Plus (30)</option>
              <option value="100" <%= u.premium_limit == 100 ? 'selected' : '' %>>Pro (100)</option>
              <option value="10000" <%= u.premium_limit >= 10000 ? 'selected' : '' %>>Unlim</option>
            </select>
          </div>
          
          <div class="col-md-3">
            <label class="form-label small text-muted mb-0">–î–Ω–µ–π</label>
            <input type="number" name="days" class="form-control form-control-sm" value="30" min="1" max="999" required>
          </div>
          
          <div class="col-md-4 d-flex align-items-end">
            <button type="submit" class="btn btn-sm btn-primary w-100 mt-3">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
          </div>

          <div class="col-12 mt-2">
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="applyMode" id="applyModeSet" value="set" checked>
              <label class="form-check-label small" for="applyModeSet">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å (—Å–±—Ä–æ—Å –¥–∞—Ç—ã)</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="applyMode" id="applyModeExtend" value="extend">
              <label class="form-check-label small" for="applyModeExtend">–ü—Ä–æ–¥–ª–∏—Ç—å (–¥–æ–±–∞–≤–∏—Ç—å –¥–Ω–∏)</label>
            </div>
          </div>
        </form>
      </div>
    </div>

    <%# –ö–∞—Ä—Ç–æ—á–∫–∞ –î–µ–π—Å—Ç–≤–∏–π %>
    <div class="card shadow-sm mb-4">
      <div class="card-header fw-semibold bg-light"><i class="bi bi-tools me-2"></i>–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</div>
      <div class="card-body d-flex flex-wrap gap-2 action-buttons">

        <form action="/user/set-status" method="POST">
          <input type="hidden" name="userId" value="<%= u.id %>">
          <% if (u.active) { %>
            <input type="hidden" name="newStatus" value="false">
            <button type="submit" class="btn btn-sm btn-outline-danger" onclick="return confirm('–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å <%= displayName %>?');">
              <i class="bi bi-ban me-1"></i>–ë–∞–Ω
            </button>
          <% } else { %>
            <input type="hidden" name="newStatus" value="true">
            <button type="submit" class="btn btn-sm btn-success">
              <i class="bi bi-check-circle me-1"></i>–†–∞–∑–±–∞–Ω
            </button>
          <% } %>
        </form>

        <form action="/reset-daily-limit" method="POST">
          <input type="hidden" name="userId" value="<%= u.id %>">
          <button type="submit" class="btn btn-sm btn-outline-warning text-dark" onclick="return confirm('–°–±—Ä–æ—Å–∏—Ç—å –¥–Ω–µ–≤–Ω–æ–π –ª–∏–º–∏—Ç?');">
            <i class="bi bi-arrow-counterclockwise me-1"></i>–°–±—Ä–æ—Å –ª–∏–º–∏—Ç–∞
          </button>
        </form>

        <form action="/reset-bonus" method="POST">
          <input type="hidden" name="userId" value="<%= u.id %>">
          <button type="submit" class="btn btn-sm btn-outline-info text-dark" onclick="return confirm('–°–±—Ä–æ—Å–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–æ–Ω—É—Å–∞?');">
            <i class="bi bi-gift me-1"></i>–°–±—Ä–æ—Å –±–æ–Ω—É—Å–∞
          </button>
        </form>

        <form action="/admin/queue/clear-user" method="POST">
          <input type="hidden" name="userId" value="<%= u.id %>">
          <button type="submit" class="btn btn-sm btn-outline-secondary" onclick="return confirm('–û—á–∏—Å—Ç–∏—Ç—å –æ—á–µ—Ä–µ–¥—å –∑–∞–≥—Ä—É–∑–æ–∫ —ç—Ç–æ–≥–æ —é–∑–µ—Ä–∞?');">
            <i class="bi bi-eraser-fill me-1"></i>–û—á–∏—Å—Ç–∏—Ç—å –æ—á–µ—Ä–µ–¥—å
          </button>
        </form>
      </div>
    </div>

    <%# === üõë –ë–õ–û–ö –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –ê–£–î–ò–û (–° –í–´–ë–û–†–û–ú –î–ê–¢–´) === %>
    <div class="card shadow-sm border-warning mb-4">
      <div class="card-header bg-warning text-dark fw-bold">
        <i class="bi bi-wrench-adjustable me-2"></i>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—ç—à–µ–º
      </div>
      <div class="card-body">
        <p class="small text-muted mb-3">
          –ï—Å–ª–∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å—Ç–∞—Ä—ã–µ —Ç—Ä–µ–∫–∏ —Å–∫–∞—á–∏–≤–∞—é—Ç—Å—è —Å –∏–º–µ–Ω–µ–º <code>audio.mp3</code>, –≤—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É (–¥–æ –∫–∞–∫–æ–≥–æ —á–∏—Å–ª–∞ —Å–±—Ä–∞—Å—ã–≤–∞—Ç—å) –∏ –Ω–∞–∂–º–∏—Ç–µ –∏—Å–ø—Ä–∞–≤–∏—Ç—å.
        </p>
        
        <form action="/admin/user/<%= u.id %>/fix-cache" method="POST">
          <div class="mb-3">
            <label for="fixDate" class="form-label small fw-bold text-muted">–°–±—Ä–æ—Å–∏—Ç—å —Ç—Ä–µ–∫–∏, —Å–∫–∞—á–∞–Ω–Ω—ã–µ –î–û:</label>
            <input 
              type="date" 
              class="form-control form-control-sm" 
              id="fixDate" 
              name="fixDate" 
              value="<%= new Date().toISOString().split('T')[0] %>" 
              required
            >
          </div>
          
          <button type="submit" class="btn btn-sm btn-danger w-100 d-flex align-items-center justify-content-center" onclick="return confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã? –≠—Ç–æ –∑–∞—Å—Ç–∞–≤–∏—Ç –±–æ—Ç–∞ –∑–∞–Ω–æ–≤–æ —Å–∫–∞—á–∏–≤–∞—Ç—å —Å—Ç–∞—Ä—ã–µ —Ç—Ä–µ–∫–∏ —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –∑–∞–ø—Ä–æ—Å–µ.');">
            <i class="bi bi-magic me-2"></i> –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫—ç—à
          </button>
        </form>

        <hr class="my-2 text-muted opacity-25">
        
        <div class="text-center">
            <a href="/admin/user/<%= u.id %>/links" class="small text-decoration-none text-secondary">
              <i class="bi bi-file-earmark-text me-1"></i>–°–∫–∞—á–∞—Ç—å —Å–ø–∏—Å–æ–∫ —Å—Å—ã–ª–æ–∫ (.txt)
            </a>
        </div>
      </div>
    </div>

  </div>

  <%# === –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: —Ç–∞–±–ª–∏—Ü—ã === %>
  <div class="col-lg-7">
    
    <%# –ü—Ä–∏–≥–ª–∞—à–µ–Ω–Ω—ã–µ %>
    <div class="card shadow-sm mb-4">
      <div class="card-header fw-semibold bg-light">
        <i class="bi bi-person-plus-fill me-2"></i>–ü—Ä–∏–≥–ª–∞—à–µ–Ω–Ω—ã–µ (<%= (typeof referredUsers !== 'undefined' ? referredUsers.length : 0) %>)
      </div>
      <% if (typeof referredUsers !== 'undefined' && referredUsers.length > 0) { %>
        <div class="list-group list-group-flush overflow-auto" style="max-height: 200px;">
          <% referredUsers.forEach(refUser => { %>
            <a href="/user/<%= refUser.id %>" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center p-2">
              <div>
                <span class="fw-semibold small"><%- escapeHtml(refUser.first_name) || '–ë–µ–∑ –∏–º–µ–Ω–∏' %></span>
                <span class="text-muted small ms-1">(ID: <%= refUser.id %>)</span>
              </div>
              <small class="text-muted" style="font-size: 0.75rem;"><%= formatDate(refUser.created_at) %></small>
            </a>
          <% }); %>
        </div>
      <% } else { %>
        <div class="card-body text-center text-muted py-3">
          <small>–ù–µ—Ç –ø—Ä–∏–≥–ª–∞—à–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</small>
        </div>
      <% } %>
    </div>

    <%# –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è %>
    <div class="card shadow-sm mb-4">
      <div class="card-header fw-semibold bg-light d-flex justify-content-between align-items-center">
        <span><i class="bi bi-music-note-list me-2"></i>–ò—Å—Ç–æ—Ä–∏—è —Å–∫–∞—á–∏–≤–∞–Ω–∏–π</span>
      </div>
      <div class="table-responsive">
        <% if (typeof downloads === 'undefined' || downloads.length === 0) { %>
          <div class="text-center text-muted py-4">–ù–µ—Ç —Å–∫–∞—á–∏–≤–∞–Ω–∏–π</div>
        <% } else { %>
          <table class="table table-hover table-sm mb-0 align-middle" style="font-size: 0.9rem;">
            <thead class="table-light">
              <tr>
                <th>–¢—Ä–µ–∫</th>
                <th class="text-end">–î–∞—Ç–∞</th>
              </tr>
            </thead>
            <tbody>
              <% downloads.forEach((d) => { %>
                <tr>
                  <td>
                    <div class="d-flex align-items-center">
                      <div class="text-truncate" style="max-width: 300px;" title="<%- escapeHtml(d.track_title) %>">
                        <%- escapeHtml(d.track_title) %>
                      </div>
                      <% if (d.url) { %>
                        <a href="<%= d.url %>" target="_blank" class="ms-2 text-secondary" title="–û—Ç–∫—Ä—ã—Ç—å —Å—Å—ã–ª–∫—É">
                          <i class="bi bi-box-arrow-up-right" style="font-size: 0.75rem;"></i>
                        </a>
                      <% } %>
                    </div>
                  </td>
                  <td class="text-end text-nowrap text-muted" style="font-size: 0.8rem;">
                    <%= formatDate(d.created_at || d.downloaded_at) %>
                  </td>
                </tr>
              <% }) %>
            </tbody>
          </table>
        <% } %>
      </div>
    </div>

    <%# –ò—Å—Ç–æ—Ä–∏—è –¥–µ–π—Å—Ç–≤–∏–π (Logs) %>
    <div class="card shadow-sm">
      <div class="card-header fw-semibold bg-light"><i class="bi bi-list-check me-2"></i>–°–∏—Å—Ç–µ–º–Ω—ã–π –ª–æ–≥</div>
      <div class="table-responsive">
        <% if (typeof actions === 'undefined' || actions.length === 0) { %>
          <div class="text-center text-muted py-4">–ù–µ—Ç –¥–µ–π—Å—Ç–≤–∏–π</div>
        <% } else { %>
          <table class="table table-hover table-sm mb-0 align-middle" style="font-size: 0.85rem;">
            <thead class="table-light">
              <tr>
                <th>–¢–∏–ø</th>
                <th>–î–µ—Ç–∞–ª–∏</th>
                <th class="text-end">–í—Ä–µ–º—è</th>
              </tr>
            </thead>
            <tbody>
              <% actions.forEach(action => { %>
                <tr>
                  <td>
                    <%
                      const actionMap = {
                        'registration': { name: '–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è', class: 'bg-light text-dark border' },
                        'bonus_received': { name: '–ë–æ–Ω—É—Å', class: 'bg-success text-white' },
                        'tariff_changed_by_admin': { name: '–°–º–µ–Ω–∞ —Ç–∞—Ä–∏—Ñ–∞', class: 'bg-warning text-dark' },
                        'banned_by_admin': { name: '–ë–∞–Ω', class: 'bg-danger text-white' },
                        'unbanned_by_admin': { name: '–†–∞–∑–±–∞–Ω', class: 'bg-success text-white' },
                        'referral_bonus_received': { name: '–†–µ—Ñ. –±–æ–Ω—É—Å', class: 'bg-info text-dark' },
                      };
                      const act = actionMap[action.action_type] || { name: escapeHtml(action.action_type), class: 'bg-light text-secondary' };
                    %>
                    <span class="badge <%= act.class %> fw-normal"><%- act.name %></span>
                  </td>
                  <td>
                    <% if (action.details && typeof action.details === 'object') { %>
                      <% if (action.details.new_limit) { %>
                        Limit: <b><%= action.details.new_limit %></b> (<%= action.details.days %>–¥)
                      <% } else { %>
                        <span class="text-muted small"><%= JSON.stringify(action.details).slice(0, 30) %>...</span>
                      <% } %>
                    <% } else { %>
                      <span class="text-muted">‚Äî</span>
                    <% } %>
                  </td>
                  <td class="text-end text-muted text-nowrap"><%= formatDate(action.created_at) %></td>
                </tr>
              <% }) %>
            </tbody>
          </table>
        <% } %>
      </div>
    </div>

  </div>
</div>

<% } else { %>
  <%# –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω –∏–ª–∏ –æ–±—ä–µ–∫—Ç –ø—É—Å—Ç %>
  <div class="alert alert-danger mt-4">
    <h4 class="alert-heading">–û—à–∏–±–∫–∞</h4>
    <p>–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –í–æ–∑–º–æ–∂–Ω–æ, –æ–Ω –±—ã–ª —É–¥–∞–ª–µ–Ω.</p>
    <hr>
    <a href="/users" class="btn btn-outline-danger">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Å–ø–∏—Å–∫—É</a>
  </div>
<% } %>
