// src/bot.js
import { Telegraf } from 'telegraf';
import { StartCommand, AdminCommand } from '../services/botCommand.js';  // –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –∫–æ–º–∞–Ω–¥—ã

const bot = new Telegraf(process.env.BOT_TOKEN);

// –°–æ–∑–¥–∞–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä—ã –∫–æ–º–∞–Ω–¥
const startCommand = new StartCommand();
const adminCommand = new AdminCommand();

// –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–æ—Ç–∞
bot.start((ctx) => startCommand.execute(ctx));  // –ó–∞–ø—É—Å–∫ –∫–æ–º–∞–Ω–¥—ã /start
bot.command('admin', (ctx) => adminCommand.execute(ctx));  // –ó–∞–ø—É—Å–∫ –∫–æ–º–∞–Ω–¥—ã /admin

// –ó–¥–µ—Å—å –¥–æ–±–∞–≤—å—Ç–µ –¥—Ä—É–≥–∏–µ –∫–æ–º–∞–Ω–¥—ã –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä:
bot.hears('üìã –ú–µ–Ω—é', async (ctx) => {
  const message = '–ó–¥–µ—Å—å –±—É–¥–µ—Ç –≤–∞—à–µ –º–µ–Ω—é';
  await ctx.reply(message);
});

// –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –¥—Ä—É–≥–∏–µ –∫–æ–º–∞–Ω–¥—ã —Å –ø–æ–º–æ—â—å—é –∫–ª–∞—Å—Å–æ–≤
// bot.hears('...')

export { bot };