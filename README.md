# üéµ SCloudMusicBot ‚Äî –£–º–Ω—ã–π –º—É–∑—ã–∫–∞–ª—å–Ω—ã–π –±–æ—Ç

![Status]([https://img.shields.org/badge/Status-Active-success](https://stats.uptimerobot.com/ZBel1EfCbk))
![Node](https://img.shields.org/badge/Node.js-v20+-green)
![DB]([https://img.shields.org/badge/DB-Supabase-blue](https://supabase.com/))

–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π Telegram-–±–æ—Ç –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –º—É–∑—ã–∫–∏ —Å SoundCloud (–∏ –≤ –±—É–¥—É—â–µ–º –¥—Ä—É–≥–∏—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º). –ë–æ—Ç –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –≤—ã—Å–æ–∫–æ–π —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å—é, —É–º–Ω—ã–º –ø–æ–∏—Å–∫–æ–º —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –æ–ø–µ—á–∞—Ç–æ–∫ –∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è.

---

## üî• –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### üéß –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∏ –û–±—Ä–∞–±–æ—Ç–∫–∞
*   **SoundCloud Downloader:** –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ç—Ä–µ–∫–æ–≤ –≤ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–º –¥–æ—Å—Ç—É–ø–Ω–æ–º –∫–∞—á–µ—Å—Ç–≤–µ (MP3/Opus).
*   **Resilient System:** –ì–∏–±—Ä–∏–¥–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∑–∞–≥—Ä—É–∑–∫–∏ (`scdl` + `yt-dlp`). –ï—Å–ª–∏ –æ–¥–∏–Ω –º–µ—Ç–æ–¥ –Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç, –±–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ–∑–µ—Ä–≤–Ω—ã–π.
*   **–ü–ª–µ–π–ª–∏—Å—Ç—ã:** –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è —Ü–µ–ª—ã—Ö –∞–ª—å–±–æ–º–æ–≤ –∏ –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π.

### üß† –£–º–Ω—ã–π –ü–æ–∏—Å–∫ (Smart Search)
*   **–ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫:** –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ –ª–æ–∫–∞–ª—å–Ω–æ–º—É –∫—ç—à—É + –ñ–∏–≤–æ–π –ø–æ–∏—Å–∫ –≤ SoundCloud.
*   **Fuzzy Search:** –ë–æ—Ç –ø–æ–Ω–∏–º–∞–µ—Ç –æ–ø–µ—á–∞—Ç–∫–∏ –∏ —Ç—Ä–∞–Ω—Å–ª–∏—Ç.
    *   *–í–≤–æ–¥–∏—Ç–µ:* `–∞–¥–∏—Å—Å–∞`, `—Ñ–µ–¥—É–∫`, `–Ω–µ–±–æ —Å–ª–∞–≤—è—è–Ω`
    *   *–ù–∞—Ö–æ–¥–∏—Ç:* `–ê–ª–∏—Å–∞`, `Feduk`, `–ù–µ–±–æ –°–ª–∞–≤—è–Ω`
*   **Trigram Similarity:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ PostgreSQL (`pg_trgm`) –¥–ª—è –Ω–µ—á–µ—Ç–∫–æ–≥–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Å—Ç—Ä–æ–∫.

### ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
*   **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:** –°–∫–∞—á–∞–Ω–Ω—ã–µ —Ç—Ä–µ–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –∫–∞–Ω–∞–ª–µ-—Ö—Ä–∞–Ω–∏–ª–∏—â–µ –∏ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö. –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –≤—ã–¥–∞—á–∞ –∑–∞–Ω–∏–º–∞–µ—Ç 0.1 —Å–µ–∫.
*   **Redis:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–µ—Å—Å–∏–π –∏ –±—ã—Å—Ç—Ä—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.
*   **–û—á–µ—Ä–µ–¥—å (Task Queue):** –£–º–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –¥–ª—è Premium-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

### üìä –ê–¥–º–∏–Ω–∫–∞ –∏ –î–∞—à–±–æ—Ä–¥
*   –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏.
*   –ì—Ä–∞—Ñ–∏–∫–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏, —Ç–æ–ø—ã –∑–∞–ø—Ä–æ—Å–æ–≤, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏.
*   –°–∏—Å—Ç–µ–º–∞ —Ä–∞—Å—Å—ã–ª–æ–∫ (Broadcast) —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –º–µ–¥–∏–∞.

---

## üó∫Ô∏è Roadmap (–î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞)

### ‚úÖ –§–∞–∑–∞ 1: –°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è (–ó–∞–≤–µ—Ä—à–µ–Ω–æ)
- [x] –ë–∞–∑–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (Node.js + Telegraf).
- [x] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Supabase (PostgreSQL).
- [x] –°–∏—Å—Ç–µ–º–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è `file_id`.
- [x] –í–Ω–µ–¥—Ä–µ–Ω–∏–µ `yt-dlp` –∫–∞–∫ fallback-–∑–∞–≥—Ä—É–∑—á–∏–∫–∞.
- [x] –£–º–Ω—ã–π –ø–æ–∏—Å–∫ —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –æ–ø–µ—á–∞—Ç–æ–∫ (`pg_trgm`).
- [x] –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –∏ –≤–µ–±—Ö—É–∫–∏.

### üöß –§–∞–∑–∞ 2: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π (–í –ø—Ä–æ—Ü–µ—Å—Å–µ)
- [x] **Shazam-–º–æ–¥—É–ª—å:** –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –º—É–∑—ã–∫–∏
- [ ] **–ö–∞—Ä–∞–æ–∫–µ-–º–æ–¥—É–ª—å:** —Å–æ–∑–¥–∞–Ω–∏–µ –º–∏–Ω—É—Å–æ–≤–∫–∏
- [x] **Spotify Support:** –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ç—Ä–µ–∫–æ–≤ –ø–æ —Å—Å—ã–ª–∫–∞–º Spotify ‚ú® NEW
- [x] **–í—ã–±–æ—Ä –∫–∞—á–µ—Å—Ç–≤–∞:** –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–±–æ—Ä–∞ –±–∏—Ç—Ä–µ–π—Ç–∞ ‚ú® NEW

### üîÆ –§–∞–∑–∞ 3: AI –∏ –ì–∏–±—Ä–∏–¥–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (–ü–ª–∞–Ω—ã)
- [ ] **Hybrid Server:** –°–≤—è–∑–∫–∞ Render (Master) + –î–æ–º–∞—à–Ω–∏–π –ü–ö —Å GPU (Worker) —á–µ—Ä–µ–∑ Redis.
- [ ] **AI Karaoke:** –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–∏–Ω—É—Å–æ–≤–æ–∫ (—É–¥–∞–ª–µ–Ω–∏–µ –≤–æ–∫–∞–ª–∞) —Å –ø–æ–º–æ—â—å—é –Ω–µ–π—Ä–æ—Å–µ—Ç–∏ `Demucs`.
- [ ] **Lyrics Sync:** –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –ø–µ—Å–µ–Ω —Å –ø–æ–º–æ—â—å—é `OpenAI Whisper`.
- [ ] **Web App:** –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤–Ω—É—Ç—Ä–∏ Telegram.

---

## üõ† –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

*   **Runtime:** Node.js
*   **Framework:** Telegraf.js
*   **Database:** Supabase (PostgreSQL)
*   **Cache:** Redis
*   **Tools:** yt-dlp, ffmpeg, shazamio (Python bridge)
*   **Hosting:** Render.com

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ (Dev)

1.  **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ:**
    ```bash
    git clone https://github.com/YourUsername/SCloudMusicBot.git
    ```

2.  **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:**
    ```bash
    npm install
    ```

3.  **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è (`.env`):**
    ```env
    BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω
    DATABASE_URL=—Å—Å—ã–ª–∫–∞_–Ω–∞_supabase
    REDIS_URL=—Å—Å—ã–ª–∫–∞_–Ω–∞_redis
    ADMIN_ID=–≤–∞—à_id
    ```

4.  **–ó–∞–ø—É—Å–∫:**
    ```bash
    npm start
    ```

---

## üë§ –ê–≤—Ç–æ—Ä—ã

*   **Developer:** [AnatolyBone]
